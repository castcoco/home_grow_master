<!DOCTYPE html>
<html>
<head>
  <title>Home Garden - Harvest Diary</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content= "Harvest Diary assists you to track record for your garden.">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  <script src="harvesttable_edit.js"></script> 
  <script type="text/javascript" src="mainregister.js"></script>
  <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
  <link type="text/css" rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" type="text/css" href="plantdiary.css">
  <link rel="stylesheet" type="text/css" href="commoncss.css">
</head>
<body>

<header id="navigationHeader"></header>

<nav class="navbar navbar-inverse" style="background-color:#ffffff; font-color: #eeeeee;">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>                        
      </button>
      <a class="navbar-brand" href="index.html">HomeGrowMaster</a>
    </div>
    <div class="collapse navbar-collapse" id="myNavbar">
    <ul class="nav navbar-nav">
      <li class="active"><a href="index.html">Home</a></li>
      <li class="dropdown"><a class="dropdown-toggle" data-toggle="dropdown" href="#">My Garden <span class="caret"></span></a>
        <ul class="dropdown-menu">
          <li><a href="gardenplan.html">Garden Planner</a></li>
          <li><a href="harvest_diary.html">Harvest Diary</a></li>
          <li><a href="myphoto.html">My Photo</a></li>
          <li><a href="gallery.html">My Gallery</a></li>
        </ul>
      </li>
      <li><a href="plantsearch.html">Plant Search</a></li>
      <li><a href="contact.html">Contact</a></li>
    </ul>

  <ul class="nav navbar-nav navbar-right">
      <li class="loginHide"><a id="signupbtn" href="#"><span class="glyphicon glyphicon-user"></span> Sign Up</a></li>
      <li class="loginHide"><a id="mybtn" href="#"><span class="glyphicon glyphicon-log-in"></span> Login</a></li>
      <li class="logoutHide"><a class="logoutbtn" href="logout.php"><span class="loggedout"></span>Logout</a></li>
    </ul>
  </div>
</nav>


<div class="container">
  <!-- <h3 id="h3title">Home Grow Master</h3> -->
  <p></p>
    <div class="general top-container">
      <br>
      <h1 class="Gardening">Harvest Diary</h1>
        <p>Using our harvest diary enables you to know how much you can save and get each year compared with the supermarket.</p>
        <br />
      <h3>Instruction</h3>
      <p1 class="p1"><strong>You can click on the input field of the table to enter the plant name, quantity, date, the volume you harvested and the price of the crops in the following table. </strong></p1>
      <p class="p1">Insert the sow date and harvest date by inputting year(YYYY),month(MM) and day(DD), eg. 2017-05-05.</p>
      <br />
      <p class="p1">If you want to insert a row, please click <strong>insert</strong> button.</p>
      <p class="p1">If you want to delete a row, please click <strong>delete</strong> button.</p>
      <p class="p1">If you want to save the record, please click <strong>save</strong> button.</p>
      <p class="p1">If you want to retrieve the record, please click <strong>My Record</strong> button </p>
      <p class="p1">If you want to update the record, please click <strong>Update</strong> button </p>
      <p class="p1">If you want to update a new row in existing record, please insert the new row in the table, input the same record name and click <strong>Save</strong> button</p>

    </div>
    <br>
    <div class="diaryForm">
      <div id="dialogbox"></div>
      <button id="myRecord">My Record</button>
      <button id="clearAllBtn">Clear All</button>
      <button id="saveBtn">Save</button>
    </div>
    
    <p></p>
    <table class="myTable" id="myTable">
      <thead>
        <tr>
          <th>Insert</th>
          <th>Plant Name</th>
          <th>Quantities</th>
          <th>Months to Sow (YYYY-MM-DD)</th>
          <th>Months to Harvest (YYYY-MM-DD)</th>
          <th>Harvested in KG</th>
          <th>Price in KG</th>
          <th>Total Amount</th>
<!--          <th></th> -->
          <th>Delete</th>
        </tr>
      </thead>
      <tfoot>
          <td>Grand Total</td>
          <td> - </td>
          <td class="sumQty"></td>
          <td> - </td>
          <td> - </td>
          <td class="sumVol"></td>
          <td></td>
          <td class="sumAmt">0.00</td>
          <td></td>
          
      </tfoot>
      <tbody id="editVolume">
        <tr class="hello">
          <td><button class="rowBtn">insert</button></td>
          <td><input type="text" class="plantName" name="plantName"/></td>
          <td><input type="number" class="pQty" name="pQty" min="0" max="999"/></td>
          <td><input type="text" class="datepicker_sow" name="datepicker_sow"/></td>
          <td><input type="text" class="datepicker_harvest" name="datepicker_harvest"/></td>
          <td><input type="text" class="pVol" name="pVol"/></td>
          <td><input type="text" class="pPrice" name="pPrice" /></td>
          <td><div class="total" name="total">0.00</div></td>
          <td></td>
<!--          <td><i class="fa fa-trash-o" aria-hidden="true"></i></td> -->
        </tr>
        <tr class="hello">
          <td><button class="rowBtn">insert</button></td>
          <td><input type="text" class="plantName" name="plantName"/></td>
          <td><input type="number" class="pQty" name="pQty" min="0" max="999"/></td>
          <td><input type="text" class="datepicker_sow" name="datepicker_sow"/></td>
          <td><input type="text" class="datepicker_harvest" name="datepicker_harvest"/></td>
          <td><input type="text" class="pVol" name="pVol" /></td>
          <td><input type="text" class="pPrice" name="pPrice" /></td>
          <td><div class="total">0.00</div></td>
          <td><input class="deleteBtn" type="button" value="Remove"/></td>
        </tr>
      </tbody>   
    </table>
    <div id="updateMsg"></div>
    <br/>
    <div id=selectedRecord class="hidden">My Record</div>
    <div class="datadisplay">
    <form class='recordform' method='post' action='updatediaryrecord.php'>
    <div id=selectedRecord class="hidden">My Record</div>
      <table id="hiddentable" class="hidden">
      <tr class='recordtable'>
          <th>Plant Name</th>
          <th>Quantities</th>
          <th>Months to Sow</th>
          <th>Months to Harvest</th>
          <th>Harvested in KG</th>
          <th>Price in KG</th>
          <th>Total Amount</th>
          <th></th>         
      </tr>
      
      </form>
      </table>
    </div>
    <br />
    <br />
</div>
<br />
 
   <!--modal-->
<div id="mymodal" class="modal">
    <form class="modalLogin" action="dummysignin.php" method="POST">
      <div class="modal-content">
        <span class="close" onclick="document.getElementById('mymodal').style.display ='none'">&times;</span>
        <h4>Login</h4>        
        <label>Username</label>
        <input type="text" class="formGp" placeholder="enter your username" id="username" name="username">
        <br>
        <label>Password</label>
        <div id='pwdfield'><input type="password" class="formGp" placeholder="enter your password" id="password" name="password">
        <button type="submit" id="loginbtn" class="btn">Login</button>
        <button class="unmask" type="button" title="mask/unmask password" onclick="unmask()">Show</button></div>
        <br>
        <hr>
        <br>
        <div class="pwd-group">
        <button type="button" class="cancelbtn" onclick="document.getElementById('mymodal').style.display ='none'">Cancel</button>       
        </div>
      </div>
    </form>
</div>

  <!--modal for sign up-->
  <div id="mymodalsignup" class="modal">
    <form class="modalSignUp" action="mainregister.php" method="POST">
      <div class="modal-content">
        <span class="close" onclick="document.getElementById('mymodalsignup').style.display='none'">&times;</span>
        <h4>Sign Up</h4>
        <label>Username</label>
        <input type="text" class="formGp" placeholder="enter your email" id='signUser' name='signUser'>
        <br/>
        <label>Email</label>
        <input type="text" class="formGp" placeholder="enter your email" id=signEmail name='signEmail'>
        <br/>
        <label>Password</label>
        <div id='pwdfield'><input type="password" class="formGpPass" placeholder="enter your password" id="signPwd" name='signPwd'>
        <button class="unmask" type="button" title="mask/unmask password" onclick="unmaskSignup()">Show</button></div>
        <br>
        <br>
        <button type="submit" id="registerbtn" value="register">Create an Account</button>
        <div id='ack'></div>

        <hr>       
        <button type="button" class="cancelbtn" onclick="document.getElementById('mymodalsignup').style.display ='none'">Cancel</button>
      </div>
    </form>
  </div>
<script>
  var modal = document.getElementById('mymodal');
  var btn= document.getElementById('mybtn');
  // Get the <span> element that closes the modal
  // var span = document.getElementsByClassName("close")[0];
  btn.onclick = function(){
    modal.style.display ="block";
  }
  // span.onclick = function(){
  //   modal.style.display = "none";
  // }
  window.onclick = function(event){
    if(event.target == modal){
      modal.style.display ="none";
    }
  }

  //for sign up
  var signupmodal = document.getElementById('mymodalsignup');
  var mysignupbtn = document.getElementById('signupbtn');
  // var span = document.getElementsByClassName("close")[0];
  mysignupbtn.onclick = function(){
    signupmodal.style.display = "block";
  }
  // span.onclick = function(){
  //   signupmodal.style.display = "none";
  // }
  window.onclick = function(event){
    if(event.target == signupmodal){
      signupmodal.style.display = "none";
    }
  }


//mask password for sign in and sign up
  function unmask(){
    var passUnmask = document.getElementById('password').type = 'text';
    var passValue = password.value;
      console.log(passValue);
      $('.unmask').on('click', function(){
        if(password.type =='password'){
          password.type ='text';
        }
        else{
          password.type = 'password';
        }
        password.value = passValue;
      });
  }       

  function unmaskSignup(){
    var passUnmask = document.getElementById('signPwd').type = 'text';
    var passValue = signPwd.value;
      console.log(passValue);
      $('.unmask').on('click', function(){
        if(signPwd.type =='password'){
          signPwd.type ='text';
        }
        else{
          signPwd.type = 'password';
        }
        signPwd.value = passValue;
      });
  } 

</script>

</body>
<br />
<br />
<footer>Educational Purpose</footer>
</html>